<!--
==== =================================================================

==    /ADM/INDEX.HTML    ==
==    ADMIN PANEEL

==== =================================================================
==    Door Thijs Boerma, th.boerma@gmail.com | 2017                 ==
==== =================================================================
-->

<div id="admBROADCAST" class="adm-tab default-border col-xs-12">
  <h2><i class="fa fa-terminal"></i>&nbsp;Broadcast panel</h2>
  <p><span class="holoContrast">Note:</span> Low priority cannot overrule high priority broadcasts.</p>
  <p><span class="holoContrast">'CLEAR BROADCASTS'</span> resets the broadcasting screen.</p>

  <hr />

  <div class="col-xs-12">
    <button class="btn btn-outline-success btn-lg btn-block" onclick="sendBroadCast(bcreset);">
      <i class="fa fa-check"></i>&nbsp;CLEAR BROADCASTS
    </button>
    <br /><br />
  </div>

  <div class="col-xs-12">
    <p>Class: Reminders, lowest priority</p>

    <!-- <div class="col-xs-12">
      <p>Class: Announcements</p> -->
    <button class="btn btn-ui btn-ui-holo" onclick="sendBroadCast(bchydrate);">
      <i class="fa fa-coffee"></i>&nbsp;HYDRATION REMINDER
    </button>
    <button class="btn btn-ui btn-ui-holo" onclick="sendBroadCast(bcsunscreen);">
      <i class="fa fa-fire-extinguisher"></i>&nbsp;SUNSCREEN REMINDER
    </button>
    </div>
    <div class="col-xs-12">
    <button class="btn btn-ui btn-ui-holo" onclick="sendBroadCast(bcthankyou);">
      <i class="fa fa-thumbs-up"></i>&nbsp;KINDNESS REMINDER
    </button>
    <button class="btn btn-ui btn-ui-holo" onclick="sendBroadCast(bctalon);">
      <i class="fa fa-twitter"></i>&nbsp;TALON REMINDER
    </button>
  </div>
  <div class="col-xs-12">
    <button class="btn btn-ui btn-ui-holo" onclick="sendBroadCast(bcmorning);">
      <i class="fa fa-sun-o"></i>&nbsp;MORNING REMINDER (10am)
    </button>
    <button class="btn btn-ui btn-ui-holo" onclick="sendBroadCast(bcgotobed);">
      <i class="fa fa-bed"></i>&nbsp;SLEEP REMINDER (2am)
    </button>
  </div>
  <div class="whitespace">&nbsp;</div>
  <div class="col-xs-12">
    <p>Class: Announcements, low priority</p>
    <button class="btn btn-ui btn-ui-holo" onclick="sendBroadCast(bctempleservice);">
      <i class="fa fa-bell"></i>&nbsp;TACHAR SERVICE
    </button>
  </div>
  <div class="whitespace">&nbsp;</div>
  <div class="col-xs-12">
    <p>Class: Medium priority.</p>
    <button class="btn btn-ui btn-ui-holo-red" onclick="sendBroadCast(bcmedbay);">
      <i class="fa fa-medkit"></i>&nbsp;MEDICAL PERSONEL AT MEDBAY
    </button>
  </div>

  <div class="whitespace">&nbsp;</div>
  <div class="col-xs-12">
    <p>Class: Direct threat, high priority</p>

    <button class="btn btn-ui btn-ui-holo-alt" onclick="sendBroadCast(bcbomb); ">
      <i class="fa fa-bomb"></i>&nbsp;BOMB THREAT
    </button>
    <button class="btn btn-ui btn-ui-holo-alt" onclick="sendBroadCast(bcbiohazard); ">
      <i class="fa fa-warning"></i>&nbsp;BIOHAZARD
    </button>
    <button class="btn btn-ui btn-ui-holo-alt" onclick="sendBroadCast(bcpsyhazard); ">
      <i class="fa fa-warning"></i>&nbsp;PSYHAZARD
    </button>

  </div>

  <div class="whitespace">&nbsp;</div>
  <div class="col-xs-12">
    <p>Class: Hostile Contact, high priority</p>

    <button class="btn btn-ui btn-ui-holo-red" onclick="sendBroadCast(bchostileoutside); ">
      <i class="fa fa-warning"></i>&nbsp;HOSTILES OUTSIDE
    </button>
    <button class="btn btn-ui btn-ui-holo-red" onclick="sendBroadCast(bchostileinside); ">
      <i class="fa fa-warning"></i>&nbsp;HOSTILES INSIDE
    </button>

  </div>
  <div class="whitespace">&nbsp;</div>

</div>

<div id="admSECURITY" class="adm-tab default-border hidden col-xs-12">

  <div class="col-xs-12">
    <h2><i class="fa fa-terminal"></i>&nbsp;Colony security level</h2>
  </div>

  <div class="col-xs-12 col-md-6">
    <p>Select a pre-defined security levels.</p>

    <!--
      default security levels.
      Add, edit or remove these to your own preferences. You can set the DEFAULT security level in config.js on the server side.
    -->
    <div class="col-xs-12">
      <select id="secLevelPrefab" class="form-control" name="predefinedSecurityLevel">
        <option value="Code Green - All clear">Code Green - All clear</option>
        <option value="Code Blue - Confirmed Threat. Weapons may be visible.">Code Blue - Confirmed Threat. Weapons may
          be visible.</option>
        <option value="Code Red - Immediate Threat. Weapons ready.">Code Red - Immediate Threat. Weapons ready.</option>
        <option value="Code Silver - VIP on colony. Security elevated.">Code Silver - VIP on colony. Security elevated.
        </option>
        <option value="Class 4 Psychic Hazard">Class 4 Psychic Hazard</option>
        <option value="Class 5 Hazard Outbreak">Class 5 Hazard Outbreak</option>
        <option value="Class 6 Emergency - Extreme Imminent Threat to Bastion Eos">Class 6 Emergency - Extreme Imminent
          Threat to Bastion Eos</option>
      </select>
    </div>

    <div class="col-xs-12">
      <!-- submits the security level -->
      <button class="btn btn-lg btn-ui btn-ui-holo-alt" onclick="updateSecurity('secLevelPrefab');">
        <i class="fa fa-warning"></i>&nbsp;SET SECURITY LEVEL
      </button>
    </div>

  </div>

  <div class="col-xs-12 col-md-6">
    <!-- Or, write your own security status on the spot. -->
    <p>...Or, set a custom security level.</p>
    <div class="col-xs-12">
      <input id="secLevelCustom" type="text" class="form-control" placeholder="Custom Alert" maxlength="160"></input>
    </div>
    <div class="col-xs-12">

      <!-- submit the custom status -->
      <button class="btn btn-lg btn-ui btn-ui-holo-alt" onclick="updateSecurity('secLevelCustom');">
        <i class="fa fa-warning"></i>&nbsp;SET CUSTOM LEVEL
      </button>
    </div>
  </div>

  <div class="col-xs-12">
    <hr />
  </div>

  <div class="col-xs-12">
    <input id="secLevelReset" type="hidden" class="hidden" value="Code Green - All clear" />

    <button class="btn btn-lg btn-outline-success" onclick="updateSecurity('secLevelReset');">
      <i class="fa fa-refresh"></i>&nbsp;RESET SEC. LEVEL
    </button>
  </div>

</div>

<!-- TAB: OTHER. AVAILABLE TO EVERYONE. -->
<div id="admCMD" class="adm-tab default-border hidden col-xs-12">

  <h2><i class="fa fa-terminal"></i>&nbsp;Other commands</h2>
  <hr />

  <div class="col-xs-12">

    <button class="btn btn-danger btn-lg" onclick="FlashBlocks(); logout();">
      <i class="fa fa-remove"></i>&nbsp;LOG OUT
    </button>

  </div>

</div>

<!-- TAB: OVERLORD. ADMINS ONLY. -->
<div id="admOVERLORD" class="adm-tab default-border hidden col-xs-12">
  <h2><i class="fa fa-terminal"></i>&nbsp;Welcome, Overlord.</h2>

  <br />

  <!-- reset the alerts/broadcasts. Placed here for extra laziness. -->
  <button class="btn btn-outline-success btn-lg btn-block" onclick="sendBroadCast(bcreset);">
    <i class="fa fa-check"></i>&nbsp;CLEAR BROADCASTS
  </button>

  <hr />
  <button class="btn btn-block btn-ui btn-ui-holo" onclick="sendBroadCast(bcmeeting);">
    <i class="fa fa-users"></i>&nbsp;GATHER ALL COLONISTS
  </button>
  <div class="whitespace">&nbsp;</div>

  <h4 class="holoContrast"><i class="fa fa-cutlery"></i>&nbsp;Food Related Alerts</h4>

  <button class="btn btn-block btn-ui btn-ui-holo" onclick="sendBroadCast(bclunch);">
    <i class="fa fa-cutlery"></i>&nbsp;KITCHEN: LUNCH
  </button>

  <button class="btn btn-block btn-ui btn-ui-holo" onclick="sendBroadCast(bcdinner);">
    <i class="fa fa-cutlery"></i>&nbsp;KITCHEN: DINNER
  </button>

  <button class="btn btn-block btn-ui btn-ui-holo-alt" onclick="sendBroadCast(bcdishes);">
    <i class="fa fa-cutlery"></i>&nbsp;KITCHEN: DISHES
  </button>

  <div class="whitespace">&nbsp;</div>
  <!-- A few extra alerts, that you don't want non-admins to push through. -->
  <h4 class="holoContrast"><i class="fa fa-warning"></i>&nbsp;Non-public alerts</h4>

  <button class="btn btn-block btn-ui btn-ui-holo" onclick="sendBroadCast(bclowpower);">
    <i class="fa fa-bolt"></i>&nbsp;COLONY:LOW POWER WARNING
  </button>

  <button class="btn btn-block btn-ui btn-ui-holo-alt" onclick="sendBroadCast(bctransmission);">
    <i class="fa fa-rss"></i>&nbsp;INCOMING TRANSMISSION
  </button>

  <button class="btn btn-block btn-ui btn-ui-holo-red" onclick="sendBroadCast(bcviral);">
    <i class="fa fa-warning"></i>&nbsp;BIO VIRUS/UNKNOWN PATHOGEN
  </button>

  <button class="btn btn-block btn-ui btn-ui-holo-red" onclick="sendBroadCast(bcreactorcrit);">
    <i class="fa fa-bolt"></i>&nbsp;REACTOR CRITICAL
  </button>

  <button class="btn btn-block btn-ui btn-ui-holo-alt" onclick="sendBroadCast(bchackattack);">
    <i class="fa fa-user-secret"></i>&nbsp;SEC: HACKER ATTACK
  </button>

  <br /><br />

  <!-- Force reset button: resets all dynamicdata to default, and refreshes all connected non-admin clients. -->
  <h4 class="holoContrast"><i class="fa fa-warning"></i>&nbsp;Reset all</h4>

  <div class="col-xs-12">
    <button class="btn btn-danger btn-lg" onclick="FlashBlocks('.adm-tab'); forceReset();">
      <i class="fa fa-refresh"></i>&nbsp;force reset
    </button>
  </div>

  <p>&nbsp;</p>

  <!-- Video broadcasts and custom audio file controls. The audio files will be sent from the server (index.js) based on what files are currently in the proper folders. -->
  <div class="col-xs-12">
    <h2>MEDIA[ VIDEO &amp; AUDIO ]</h2>
    <div class="btn btn-primary" onclick="$('.hidden-block').hide();$('#OC-VID').fadeIn();">VIDEOS</div>
    <div class="btn btn-primary" onclick="$('.hidden-block').hide();$('#OC-ALICE').fadeIn();">AUDIO ALICE</div>
    <div class="btn btn-primary" onclick="$('.hidden-block').hide();$('#OC-DAVE').fadeIn();">AUDIO DAVE</div>
    <div class="btn btn-primary" onclick="$('.hidden-block').hide();$('#OC-MISC').fadeIn();">AUDIO ANDERS</div>
  </div>

  <div id="OC-VID" class="hidden-block col-xs-12" style="display:none;">
    <h4>Videos</h4>

    <div class="items">
      <p>send this before turning on the video to get player's attention.</p>
      <button class="btn btn-primary btn-ui btn-ui-holo-alt" onclick="sendBroadCast(bctransmission);">
        <i class="fa fa-file-video-o"></i>&nbsp;INCOMING TRANSMISSION
      </button>
      <button class="btn btn-outline-success" onclick="sendBroadCast(bcreset);">
        <i class="fa fa-check"></i>&nbsp;CLEAR SCREEN
      </button>
      <button class="btn btn-primary btn-ui btn-ui-holo-alt" onclick="sendBroadCast(bctransmissionend);">
        <i class="fa fa-file-video-o"></i>&nbsp;END TRANSMISSION SCREEN
      </button>
    </div>

    <div class="items">
      <button class="btn btn-ui btn-ui-holo" onclick="sendBroadCast(bcspoilervideo);">
        <i class="fa fa-film"></i>&nbsp;IC:&nbsp;SUNDAY TIME OUT BROADCAST
      </button>
    </div>



  </div>

  <!-- 3 tabs: audio. These will contain the audio files sent by the server. -->

  <div id="OC-DAVE" class="hidden-block col-xs-12" style="display:none;">
    <h4 class="items">Audio:dave</h4>
  </div>

  <div id="OC-ALICE" class="hidden-block col-xs-12" style="display:none;">
    <h4 class="items">Audio:alice</h4>
  </div>

  <div id="OC-MISC" class="hidden-block col-xs-12" style="display:none;">
    <h4 class="items">Audio:misc</h4>
  </div>

</div>


<!-- TAB: PORTAL CONTROL, ACCESSIBLE BY RANK 3 AND 4 ONLY. -->
<div id="admPORTAL" class="adm-tab default-border hidden col-xs-12">

  <h2><i class="fa fa-terminal"></i>&nbsp;Portal Terminal</h2>

  <hr />

  <div class="col-xs-12">
    <button class="btn btn-outline-success btn-lg btn-block" onclick="sendBroadCast(bcreset);">
      <i class="fa fa-check"></i>&nbsp;CLEAR BROADCASTS
    </button>
    <br /><br />
  </div>

  <div class="col-xs-12 col-md-6">
    <p>Broadcast:</p>

    <button class="btn btn-lg btn-ui btn-ui-holo" onclick="sendBroadCast(bcportalinc);">
      <i class="fa fa-cloud-download"></i>&nbsp;SCHEDULED PORTAL ACTIVATION
    </button>
    <button class="btn btn-lg btn-ui btn-ui-holo-red" onclick="sendBroadCast(bcportalincdanger);">
      <i class="fa fa-cloud-download"></i>&nbsp;UNSCHEDULED PORTAL ACTIVATION
    </button>
    <button class="btn btn-lg btn-ui btn-ui-holo-alt" onclick="sendBroadCast(bcportalout);">
      <i class="fa fa-cloud-upload"></i>&nbsp;PORTAL OUTGOING
    </button>
<!--
    <p>Broadcasts with Voice:</p>

    <button class="btn btn-lg btn-ui btn-ui-holo" onclick="sendBroadCast(bcportalinc_voice);">
      <i class="fa fa-comment"></i> <i class="fa fa-cloud-download"></i>&nbsp;SCHEDULED PORTAL ACTIVATION
    </button>
    <button class="btn btn-lg btn-ui btn-ui-holo-red" onclick="sendBroadCast(bcportalincdanger_voice);">
      <i class="fa fa-comment"></i> <i class="fa fa-cloud-download"></i>&nbsp;UNSCHEDULED PORTAL ACTIVATION
    </button>
    <button class="btn btn-lg btn-ui btn-ui-holo-alt" onclick="sendBroadCast(bcportalout_voice);">
      <i class="fa fa-comment"></i> <i class="fa fa-cloud-upload"></i>&nbsp;PORTAL OUTGOING
    </button>
-->
    <p>&nbsp;</p>

  </div>
  <div class="col-xs-12 col-md-6">
    <p>&nbsp;Portal Status:</p>
    <p>&nbsp;(note: portal inc/outgoing temporarily sets the status to ACTIVE.)</p>

    <div class="col-xs-12" style="margin-left: 11px;">
      <select id="portalStatusForm" class="form-control" name="portalStatusForm">
        <option value="ok">Normal / Standard / Ok</option>
        <option value="active">Active/Inc/Out</option>
        <option value="shutdown">Portal offline</option>
        <option value="unstable">Unstable connection</option>
        <option value="multirequest">Multiple external requests</option>
        <option value="maintenance">Maintenance Required</option>
      </select>
    </div>

    <div class="col-xs-12">
      <button class="btn btn-lg btn-ui btn-primary" onclick="updatePortalStatus('portalStatusForm');">
        <i class="fa fa-cog"></i>&nbsp;SET PORTAL STATUS
      </button>
    </div>


  </div>

</div>

<!-- TAB: MEDICAL CONTROL, ACCESSIBLE BY RANK 2 AND 4 ONLY. -->
<div id="admMEDICAL" class="adm-tab default-border hidden col-xs-12">
  <h2><i class="fa fa-terminal"></i>&nbsp;Medical panel</h2>

  <hr/>

  <div class="col-xs-12">
    <button class="btn btn-outline-success btn-lg btn-block" onclick="sendBroadCast(bcreset);">
      <i class="fa fa-check"></i>&nbsp;CLEAR BROADCASTS
    </button>
    <br/><br/>
  </div>

    <div class="col-xs-12">
      <button class="btn btn-ui btn-ui-holo-alt" onclick="sendBroadCast(bcmedical);">
        <i class="fa fa-medkit"></i>&nbsp;REQUEST BLOOD DONATIONS
      </button>
      <button class="btn btn-ui btn-ui-holo-red" onclick="sendBroadCast(bcblood);">
        <i class="fa fa-medkit"></i>&nbsp;DEMAND BLOOD DONATIONS
      </button>
      <button class="btn btn-ui btn-ui-holo-red" onclick="sendBroadCast(bcmedbay);">
        <i class="fa fa-medkit"></i>&nbsp;MEDICAL PERSONEL AT MEDBAY
      </button>
      <button class="btn btn-ui btn-ui-holo-red" onclick="sendBroadCast(bcmedicalsupport);">
        <i class="fa fa-medkit"></i>&nbsp;NOT ENOUGH DOCTORS
      </button>
  </div>

</div>

<!-- TAB: ORB CONTROL, ACCESSIBLE BY RANK 3 AND 4 ONLY. -->
<div id="admORB" class="adm-tab default-border hidden col-xs-12">

  <h2><i class="fa fa-terminal"></i>&nbsp;Orb Terminal</h2>

  <hr />

  <div class="col-xs-12">
    <button class="btn btn-outline-success btn-lg btn-block" onclick="sendBroadCast(bcreset);">
      <i class="fa fa-check"></i>&nbsp;CLEAR BROADCASTS
    </button>
    <br /><br />
  </div>

  <div class="col-xs-12 col-md-6" style="display: flex; justify-content: center; flex-direction: column; gap: 1rem;">
    <h3>Broadcast/Alerts:</h3>

    <button class="btn btn-lg btn-ui btn-ui-holo" onclick="sendBroadCast(bcorbactivate); updateOrbStatus('active');">
      <i class="fa fa-cloud-download"></i>&nbsp;(re)-activate Orb
    </button>

    <button class="btn btn-lg btn-ui btn-ui-holo-red" onclick="sendBroadCast(bcorbcooldown); updateOrbStatus('inactive');">
      <i class="fa fa-cloud-download"></i>&nbsp;de-activate Orb
    </button>

  </div>
  <div class="col-xs-12 col-md-6" style="display: flex; justify-content: center; flex-direction: column; gap: 1rem;">
    <h3>Orb Status (manual control)</h3>
    <p>(using the Alerts automatically changes Orb Status as well)</p>

    <select id="orbStatusForm" class="form-control" name="orbStatusForm">
      <option value="active" default>Active</option>
      <option value="inactive">Inactive / Cooldown</option>
    </select>

    <button class="btn btn-lg btn-ui btn-primary" onclick="updateOrbStatusManually('orbStatusForm');">
      <i class="fa fa-cog"></i>&nbsp;SET ORB STATUS
    </button>

  </div>

</div>

<!-- TAB: ATTACK VECTOR. -->
<div id="admATTACKVECTOR" class="adm-tab default-border hidden col-xs-12">
  <iframe src="https://av.eosfrontier.space/beacon/" height="600" width="100%" style="border:none;">></iframe>
</div>



<script>
  

  $(document).ready(function () {
    $('button').on('click', function (e) {

      /* extra scripts: add a modifier to prevent disabled buttons from being used regardless. */
      if ($(this).attr('disabled')) {
        e.stopImmediatePropagation();
        e.preventDefault();
      }

      /* disable buttons temporarily to prevent spamming */
      $('button').addClass('disabled').attr("disabled", true);

      /* remove the disabled modifier after an XXXX amount of miliseconds. */
      setTimeout(function () {
        $('button').removeClass('disabled').attr("disabled", false);
        $('#main').find('.adm-tab').removeClass('flash');
      }, 3500);
    });

  });
</script>